"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/select-random-winner";
exports.ids = ["pages/api/select-random-winner"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fselect-random-winner&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cselect-random-winner.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fselect-random-winner&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cselect-random-winner.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_select_random_winner_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\select-random-winner.ts */ \"(api)/./src/pages/api/select-random-winner.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_select_random_winner_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_select_random_winner_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/select-random-winner\",\n        pathname: \"/api/select-random-winner\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_select_random_winner_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlbGVjdC1yYW5kb20td2lubmVyJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGc3JjJTVDcGFnZXMlNUNhcGklNUNzZWxlY3QtcmFuZG9tLXdpbm5lci50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN1RTtBQUN2RTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbUVBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1FQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYmFzZWQtcGl4ZWxzLW5mdC1hZG1pbi8/NzZiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxzZWxlY3QtcmFuZG9tLXdpbm5lci50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlbGVjdC1yYW5kb20td2lubmVyXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2VsZWN0LXJhbmRvbS13aW5uZXJcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fselect-random-winner&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cselect-random-winner.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/select-random-winner.ts":
/*!***********************************************!*\
  !*** ./src/pages/api/select-random-winner.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_moveCliIntegration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/moveCliIntegration */ \"(api)/./src/utils/moveCliIntegration.ts\");\n/* harmony import */ var _utils_adminUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/adminUtils */ \"(api)/./src/utils/adminUtils.ts\");\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method Not Allowed\"\n        });\n    }\n    try {\n        // Zuerst überprüfen wir, ob die CLI-Tools verfügbar sind\n        try {\n            const versions = await (0,_utils_moveCliIntegration__WEBPACK_IMPORTED_MODULE_0__.checkCliVersions)();\n            console.log(\"CLI-Versionen:\", versions);\n        } catch (versionError) {\n            return res.status(500).json({\n                error: \"CLI-Tools nicht verf\\xfcgbar\",\n                message: \"Die IOTA/MOVE CLI-Tools wurden nicht gefunden oder sind nicht korrekt konfiguriert\",\n                details: versionError instanceof Error ? versionError.message : String(versionError)\n            });\n        }\n        const { addresses, senderAddress } = req.body;\n        if (!addresses || !Array.isArray(addresses) || addresses.length === 0) {\n            return res.status(400).json({\n                error: \"Fehlende Parameter\",\n                message: \"Eine Liste von Adressen ist erforderlich\"\n            });\n        }\n        // Prüfe, ob der Sender die Admin-Adresse ist\n        const useAdminAuth = senderAddress ? (0,_utils_adminUtils__WEBPACK_IMPORTED_MODULE_1__.isAdmin)(senderAddress) : false;\n        if (useAdminAuth) {\n            console.log(\"Admin-Authentifizierung wird verwendet f\\xfcr Zufallsauswahl\");\n        } else {\n            console.log(\"Standard-Zufallsauswahl wird verwendet (kein Admin)\");\n        }\n        // Wähle einen zufälligen Gewinner - für Nicht-Admins erlauben wir die Auswahl auch,\n        // aber nur Admins können später NFTs minten\n        const winner = await (0,_utils_moveCliIntegration__WEBPACK_IMPORTED_MODULE_0__.selectRandomWinnerWithCli)(addresses, useAdminAuth);\n        res.status(200).json({\n            success: true,\n            message: useAdminAuth ? \"Zuf\\xe4lligen Gewinner ausgew\\xe4hlt (Admin-Modus)\" : \"Zuf\\xe4lligen Gewinner ausgew\\xe4hlt (nur Admin-Benutzer k\\xf6nnen NFTs minten)\",\n            winner,\n            isAdmin: useAdminAuth,\n            canMintNft: useAdminAuth\n        });\n    } catch (error) {\n        console.error(\"Fehler bei der Auswahl eines zuf\\xe4lligen Gewinners:\", error);\n        res.status(500).json({\n            error: \"Fehler bei der Auswahl eines zuf\\xe4lligen Gewinners\",\n            message: error.message || \"Unbekannter Fehler\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3NlbGVjdC1yYW5kb20td2lubmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN5RjtBQUM1QztBQUU5QixlQUFlRyxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDNUQ7SUFFQSxJQUFJO1FBQ0YseURBQXlEO1FBQ3pELElBQUk7WUFDRixNQUFNQyxXQUFXLE1BQU1ULDJFQUFnQkE7WUFDdkNVLFFBQVFDLEdBQUcsQ0FBQyxrQkFBa0JGO1FBQ2hDLEVBQUUsT0FBT0csY0FBYztZQUNyQixPQUFPUixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTztnQkFDUEssU0FBUztnQkFDVEMsU0FBU0Ysd0JBQXdCRyxRQUFRSCxhQUFhQyxPQUFPLEdBQUdHLE9BQU9KO1lBQ3pFO1FBQ0Y7UUFFQSxNQUFNLEVBQUVLLFNBQVMsRUFBRUMsYUFBYSxFQUFFLEdBQUdmLElBQUlnQixJQUFJO1FBRTdDLElBQUksQ0FBQ0YsYUFBYSxDQUFDRyxNQUFNQyxPQUFPLENBQUNKLGNBQWNBLFVBQVVLLE1BQU0sS0FBSyxHQUFHO1lBQ3JFLE9BQU9sQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsT0FBTztnQkFDUEssU0FBUztZQUNYO1FBQ0Y7UUFFQSw2Q0FBNkM7UUFDN0MsTUFBTVUsZUFBZUwsZ0JBQWdCakIsMERBQU9BLENBQUNpQixpQkFBaUI7UUFFOUQsSUFBSUssY0FBYztZQUNoQmIsUUFBUUMsR0FBRyxDQUFDO1FBQ2QsT0FBTztZQUNMRCxRQUFRQyxHQUFHLENBQUM7UUFDZDtRQUVBLG9GQUFvRjtRQUNwRiw0Q0FBNEM7UUFDNUMsTUFBTWEsU0FBUyxNQUFNekIsb0ZBQXlCQSxDQUFDa0IsV0FBV007UUFFMURuQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ25Ca0IsU0FBUztZQUNUWixTQUFTVSxlQUNMLHVEQUNBO1lBQ0pDO1lBQ0F2QixTQUFTc0I7WUFDVEcsWUFBWUg7UUFDZDtJQUNGLEVBQUUsT0FBT2YsT0FBWTtRQUNuQkUsUUFBUUYsS0FBSyxDQUFDLHlEQUFzREE7UUFDcEVKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJDLE9BQU87WUFDUEssU0FBU0wsTUFBTUssT0FBTyxJQUFJO1FBQzVCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYmFzZWQtcGl4ZWxzLW5mdC1hZG1pbi8uL3NyYy9wYWdlcy9hcGkvc2VsZWN0LXJhbmRvbS13aW5uZXIudHM/ZmRlNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XHJcbmltcG9ydCB7IHNlbGVjdFJhbmRvbVdpbm5lcldpdGhDbGksIGNoZWNrQ2xpVmVyc2lvbnMgfSBmcm9tICdAL3V0aWxzL21vdmVDbGlJbnRlZ3JhdGlvbic7XHJcbmltcG9ydCB7IGlzQWRtaW4gfSBmcm9tICdAL3V0aWxzL2FkbWluVXRpbHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIE5vdCBBbGxvd2VkJyB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBadWVyc3Qgw7xiZXJwcsO8ZmVuIHdpciwgb2IgZGllIENMSS1Ub29scyB2ZXJmw7xnYmFyIHNpbmRcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZlcnNpb25zID0gYXdhaXQgY2hlY2tDbGlWZXJzaW9ucygpO1xyXG4gICAgICBjb25zb2xlLmxvZygnQ0xJLVZlcnNpb25lbjonLCB2ZXJzaW9ucyk7XHJcbiAgICB9IGNhdGNoICh2ZXJzaW9uRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBlcnJvcjogJ0NMSS1Ub29scyBuaWNodCB2ZXJmw7xnYmFyJyxcclxuICAgICAgICBtZXNzYWdlOiAnRGllIElPVEEvTU9WRSBDTEktVG9vbHMgd3VyZGVuIG5pY2h0IGdlZnVuZGVuIG9kZXIgc2luZCBuaWNodCBrb3JyZWt0IGtvbmZpZ3VyaWVydCcsXHJcbiAgICAgICAgZGV0YWlsczogdmVyc2lvbkVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB2ZXJzaW9uRXJyb3IubWVzc2FnZSA6IFN0cmluZyh2ZXJzaW9uRXJyb3IpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgYWRkcmVzc2VzLCBzZW5kZXJBZGRyZXNzIH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIWFkZHJlc3NlcyB8fCAhQXJyYXkuaXNBcnJheShhZGRyZXNzZXMpIHx8IGFkZHJlc3Nlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6ICdGZWhsZW5kZSBQYXJhbWV0ZXInLCBcclxuICAgICAgICBtZXNzYWdlOiAnRWluZSBMaXN0ZSB2b24gQWRyZXNzZW4gaXN0IGVyZm9yZGVybGljaCcgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByw7xmZSwgb2IgZGVyIFNlbmRlciBkaWUgQWRtaW4tQWRyZXNzZSBpc3RcclxuICAgIGNvbnN0IHVzZUFkbWluQXV0aCA9IHNlbmRlckFkZHJlc3MgPyBpc0FkbWluKHNlbmRlckFkZHJlc3MpIDogZmFsc2U7XHJcbiAgICBcclxuICAgIGlmICh1c2VBZG1pbkF1dGgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0FkbWluLUF1dGhlbnRpZml6aWVydW5nIHdpcmQgdmVyd2VuZGV0IGbDvHIgWnVmYWxsc2F1c3dhaGwnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTdGFuZGFyZC1adWZhbGxzYXVzd2FobCB3aXJkIHZlcndlbmRldCAoa2VpbiBBZG1pbiknKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBXw6RobGUgZWluZW4genVmw6RsbGlnZW4gR2V3aW5uZXIgLSBmw7xyIE5pY2h0LUFkbWlucyBlcmxhdWJlbiB3aXIgZGllIEF1c3dhaGwgYXVjaCxcclxuICAgIC8vIGFiZXIgbnVyIEFkbWlucyBrw7ZubmVuIHNww6R0ZXIgTkZUcyBtaW50ZW5cclxuICAgIGNvbnN0IHdpbm5lciA9IGF3YWl0IHNlbGVjdFJhbmRvbVdpbm5lcldpdGhDbGkoYWRkcmVzc2VzLCB1c2VBZG1pbkF1dGgpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgXHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsIFxyXG4gICAgICBtZXNzYWdlOiB1c2VBZG1pbkF1dGggXHJcbiAgICAgICAgPyAnWnVmw6RsbGlnZW4gR2V3aW5uZXIgYXVzZ2V3w6RobHQgKEFkbWluLU1vZHVzKScgXHJcbiAgICAgICAgOiAnWnVmw6RsbGlnZW4gR2V3aW5uZXIgYXVzZ2V3w6RobHQgKG51ciBBZG1pbi1CZW51dHplciBrw7ZubmVuIE5GVHMgbWludGVuKScsIFxyXG4gICAgICB3aW5uZXIsXHJcbiAgICAgIGlzQWRtaW46IHVzZUFkbWluQXV0aCxcclxuICAgICAgY2FuTWludE5mdDogdXNlQWRtaW5BdXRoXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpIGRlciBBdXN3YWhsIGVpbmVzIHp1ZsOkbGxpZ2VuIEdld2lubmVyczonLCBlcnJvcik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxyXG4gICAgICBlcnJvcjogJ0ZlaGxlciBiZWkgZGVyIEF1c3dhaGwgZWluZXMgenVmw6RsbGlnZW4gR2V3aW5uZXJzJywgXHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgJ1VuYmVrYW5udGVyIEZlaGxlcicgXHJcbiAgICB9KTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbInNlbGVjdFJhbmRvbVdpbm5lcldpdGhDbGkiLCJjaGVja0NsaVZlcnNpb25zIiwiaXNBZG1pbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ2ZXJzaW9ucyIsImNvbnNvbGUiLCJsb2ciLCJ2ZXJzaW9uRXJyb3IiLCJtZXNzYWdlIiwiZGV0YWlscyIsIkVycm9yIiwiU3RyaW5nIiwiYWRkcmVzc2VzIiwic2VuZGVyQWRkcmVzcyIsImJvZHkiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJ1c2VBZG1pbkF1dGgiLCJ3aW5uZXIiLCJzdWNjZXNzIiwiY2FuTWludE5mdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/select-random-winner.ts\n");

/***/ }),

/***/ "(api)/./src/utils/adminUtils.ts":
/*!*********************************!*\
  !*** ./src/utils/adminUtils.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin)\n/* harmony export */ });\n/**\r\n * Admin-Hilfsfunktionen, die im Browser und auf dem Server funktionieren\r\n */ // Admin-Adresse aus der Umgebungsvariable\nconst ADMIN_ADDRESS = \"0x2814ed96c9c39ba01d2c4d164cdfbd8e272192dd1ae39d11aac49e352c11b3c5\" || 0;\n/**\r\n * Prüft, ob der Benutzer Admin-Rechte hat (basierend auf der Wallet-Adresse)\r\n * @param userAddress Die Adresse des Benutzers\r\n */ function isAdmin(userAddress) {\n    return userAddress.toLowerCase() === ADMIN_ADDRESS.toLowerCase();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvYWRtaW5VdGlscy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0NBRUMsR0FFRCwwQ0FBMEM7QUFDMUMsTUFBTUEsZ0JBQWdCQyxvRUFBcUMsSUFBSTtBQUUvRDs7O0NBR0MsR0FDTSxTQUFTRyxRQUFRQyxXQUFtQjtJQUN6QyxPQUFPQSxZQUFZQyxXQUFXLE9BQU9OLGNBQWNNLFdBQVc7QUFDaEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWJhc2VkLXBpeGVscy1uZnQtYWRtaW4vLi9zcmMvdXRpbHMvYWRtaW5VdGlscy50cz80MWI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBZG1pbi1IaWxmc2Z1bmt0aW9uZW4sIGRpZSBpbSBCcm93c2VyIHVuZCBhdWYgZGVtIFNlcnZlciBmdW5rdGlvbmllcmVuXHJcbiAqL1xyXG5cclxuLy8gQWRtaW4tQWRyZXNzZSBhdXMgZGVyIFVtZ2VidW5nc3ZhcmlhYmxlXHJcbmNvbnN0IEFETUlOX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BRE1JTl9BRERSRVNTIHx8ICcweDI4MTRlZDk2YzljMzliYTAxZDJjNGQxNjRjZGZiZDhlMjcyMTkyZGQxYWUzOWQxMWFhYzQ5ZTM1MmMxMWIzYzUnO1xyXG5cclxuLyoqXHJcbiAqIFByw7xmdCwgb2IgZGVyIEJlbnV0emVyIEFkbWluLVJlY2h0ZSBoYXQgKGJhc2llcmVuZCBhdWYgZGVyIFdhbGxldC1BZHJlc3NlKVxyXG4gKiBAcGFyYW0gdXNlckFkZHJlc3MgRGllIEFkcmVzc2UgZGVzIEJlbnV0emVyc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzQWRtaW4odXNlckFkZHJlc3M6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiB1c2VyQWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBBRE1JTl9BRERSRVNTLnRvTG93ZXJDYXNlKCk7XHJcbn0gIl0sIm5hbWVzIjpbIkFETUlOX0FERFJFU1MiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQURNSU5fQUREUkVTUyIsImlzQWRtaW4iLCJ1c2VyQWRkcmVzcyIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/utils/adminUtils.ts\n");

/***/ }),

/***/ "(api)/./src/utils/moveCliIntegration.ts":
/*!*****************************************!*\
  !*** ./src/utils/moveCliIntegration.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkCliVersions: () => (/* binding */ checkCliVersions),\n/* harmony export */   executeIotaCommand: () => (/* binding */ executeIotaCommand),\n/* harmony export */   executeMoveAnalyzerCommand: () => (/* binding */ executeMoveAnalyzerCommand),\n/* harmony export */   mintNftWithMoveCli: () => (/* binding */ mintNftWithMoveCli),\n/* harmony export */   prepareStringForMove: () => (/* binding */ prepareStringForMove),\n/* harmony export */   selectRandomWinnerWithCli: () => (/* binding */ selectRandomWinnerWithCli)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst execPromise = (0,util__WEBPACK_IMPORTED_MODULE_1__.promisify)(child_process__WEBPACK_IMPORTED_MODULE_0__.exec);\nconst MOVE_ANALYZER_PATH = process.env.MOVE_ANALYZER_PATH || \"C:\\\\iota\\\\Move-analyzer.exe\";\nconst IOTA_CLI_PATH = process.env.IOTA_CLI_PATH || \"C:\\\\iota\\\\iota.exe\";\nconst ADMIN_ADDRESS = \"0x2814ed96c9c39ba01d2c4d164cdfbd8e272192dd1ae39d11aac49e352c11b3c5\" || 0;\n// Package-IDs\nconst EPOCH_PACKAGE_ID = process.env.EPOCH_PACKAGE_ID || \"0xb14bd4dd3013a01ffda78e8f7d2b69918b4cdbe61df3b3c2e4aa0d1ea06e2cdc\";\nconst NFT_PACKAGE_ID = process.env.NFT_PACKAGE_ID || \"0x9a6a9f3e3244ec539a5cdad1823c16b3a3cda3c0aa5fa3beec30d4b7b7a5efda\";\n/**\r\n * Führt einen MOVE Analyzer CLI-Befehl aus\r\n * @param command Der auszuführende MOVE Analyzer CLI-Befehl \r\n * @returns Das Ergebnis des Befehls\r\n */ async function executeMoveAnalyzerCommand(command) {\n    try {\n        console.log(`Führe MOVE Analyzer Befehl aus: ${MOVE_ANALYZER_PATH} ${command}`);\n        const { stdout, stderr } = await execPromise(`\"${MOVE_ANALYZER_PATH}\" ${command}`);\n        if (stderr) {\n            console.error(\"MOVE Analyzer CLI Fehler:\", stderr);\n            throw new Error(stderr);\n        }\n        return stdout;\n    } catch (error) {\n        console.error(\"Fehler bei Ausf\\xfchrung des MOVE Analyzer CLI-Befehls:\", error);\n        throw error;\n    }\n}\n/**\r\n * Führt einen IOTA CLI-Befehl aus\r\n * @param command Der auszuführende IOTA CLI-Befehl \r\n * @returns Das Ergebnis des Befehls\r\n */ async function executeIotaCommand(command) {\n    try {\n        console.log(`Führe IOTA CLI Befehl aus: ${IOTA_CLI_PATH} ${command}`);\n        const { stdout, stderr } = await execPromise(`\"${IOTA_CLI_PATH}\" ${command}`);\n        if (stderr && !stderr.includes(\"info:\")) {\n            console.error(\"IOTA CLI Fehler:\", stderr);\n            throw new Error(stderr);\n        }\n        return stdout;\n    } catch (error) {\n        console.error(\"Fehler bei Ausf\\xfchrung des IOTA CLI-Befehls:\", error);\n        throw error;\n    }\n}\n/**\r\n * Prüft die aktuelle Version der CLI-Tools\r\n */ async function checkCliVersions() {\n    try {\n        const moveAnalyzerVersion = await executeMoveAnalyzerCommand(\"--version\");\n        const iotaVersion = await executeIotaCommand(\"--version\");\n        return {\n            moveAnalyzer: moveAnalyzerVersion.trim(),\n            iota: iotaVersion.trim()\n        };\n    } catch (error) {\n        console.error(\"Fehler beim Pr\\xfcfen der CLI-Versionen:\", error);\n        return {\n            moveAnalyzer: \"Fehler\",\n            iota: \"Fehler\"\n        };\n    }\n}\n/**\r\n * Erstellt ein NFT über die IOTA CLI gemäß der IOTA Move-Dokumentation\r\n * @param recipientAddress Die Empfänger-Adresse für das NFT\r\n * @param metadata Die Metadaten für das NFT\r\n * @param imageUrl Die URL des Bildes für das NFT\r\n * @param useAdminAuth Ob die Admin-Authentifizierung verwendet werden soll\r\n * @param customAdminAddress Optionale benutzerdefinierte Admin-Adresse\r\n */ async function mintNftWithMoveCli(recipientAddress, metadata, imageUrl, useAdminAuth = false, customAdminAddress) {\n    // Erstelle ein temporäres JSON mit den Metadaten\n    const metadataJson = JSON.stringify(metadata);\n    const tempDir = path__WEBPACK_IMPORTED_MODULE_3__.join(process.cwd(), \"temp\");\n    // Erstelle das temporäre Verzeichnis, falls es nicht existiert\n    if (!fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(tempDir)) {\n        fs__WEBPACK_IMPORTED_MODULE_2__.mkdirSync(tempDir, {\n            recursive: true\n        });\n    }\n    const tempFilePath = path__WEBPACK_IMPORTED_MODULE_3__.join(tempDir, `temp_metadata_${Date.now()}.json`);\n    // Schreibe das JSON in eine temporäre Datei\n    fs__WEBPACK_IMPORTED_MODULE_2__.writeFileSync(tempFilePath, metadataJson);\n    console.log(`Metadaten in ${tempFilePath} gespeichert`);\n    try {\n        // Versuche die IOTA CLI mit den korrekten NFT-Befehlen\n        try {\n            // Verwende die übergebene Admin-Adresse, wenn sie vorhanden ist, sonst die Standard-Admin-Adresse\n            const adminAddress = customAdminAddress || ADMIN_ADDRESS;\n            // Vorbereiten der Move-Parameter\n            const name = prepareStringForMove(metadata.name);\n            const description = prepareStringForMove(metadata.description);\n            const imageUrlForMove = prepareStringForMove(imageUrl);\n            const epochNumber = metadata.attributes?.epoch || 0;\n            const contributorsCount = metadata.attributes?.participants || 0;\n            // Korrekter IOTA CLI-Befehl für mint_nft_admin\n            let mintCommand;\n            if (useAdminAuth) {\n                // Admin-Version mit AdminCapability als erstem Parameter\n                mintCommand = `move call --package ${NFT_PACKAGE_ID} --module nft_module --function mint_nft_admin --args AdminCapability ${recipientAddress} ${name} ${description} ${imageUrlForMove} ${epochNumber} ${contributorsCount} --sender ${adminAddress}`;\n            } else {\n                // Standard-Version ohne Admin-Capability\n                mintCommand = `move call --package ${NFT_PACKAGE_ID} --module nft_module --function mint_nft --args ${recipientAddress} ${name} ${description} ${imageUrlForMove} ${epochNumber} ${contributorsCount}`;\n            }\n            console.log(`Führe NFT-Mint-Befehl aus: ${mintCommand}`);\n            return await executeIotaCommand(mintCommand);\n        } catch (iotaError) {\n            console.error(\"Fehler beim Minten mit IOTA CLI:\", iotaError);\n            throw iotaError;\n        }\n    } finally{\n        // Lösche die temporäre Datei\n        try {\n            fs__WEBPACK_IMPORTED_MODULE_2__.unlinkSync(tempFilePath);\n            console.log(`Temporäre Datei ${tempFilePath} gelöscht`);\n        } catch (error) {\n            console.error(\"Fehler beim L\\xf6schen der tempor\\xe4ren Datei:\", error);\n        }\n    }\n}\n/**\r\n * Wählt einen zufälligen Gewinner mit IOTA CLI\r\n * @param addresses Liste von Adressen\r\n * @param useAdminAuth Ob die Admin-Authentifizierung verwendet werden soll\r\n */ async function selectRandomWinnerWithCli(addresses, useAdminAuth = false) {\n    try {\n        // Erstelle temporäre Datei mit den Adressen\n        const tempDir = path__WEBPACK_IMPORTED_MODULE_3__.join(process.cwd(), \"temp\");\n        if (!fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(tempDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_2__.mkdirSync(tempDir, {\n                recursive: true\n            });\n        }\n        const tempFilePath = path__WEBPACK_IMPORTED_MODULE_3__.join(tempDir, `addresses_${Date.now()}.json`);\n        // Speichere die Adressliste als Move-kompatibles Format\n        const addressesVector = addresses.map((addr)=>addr).join(\", \");\n        const vectorCmd = `vector[${addressesVector}]`;\n        try {\n            // Wähle die richtige Funktion basierend auf Admin-Authentifizierung\n            const randomFunction = useAdminAuth ? \"select_random_winner_admin\" : \"select_random_winner\";\n            let command;\n            if (useAdminAuth) {\n                // Admin-Version mit AdminCapability als erstem Parameter\n                command = `move call --package ${EPOCH_PACKAGE_ID} --module epoch --function ${randomFunction} --args AdminCapability 0x8 ${vectorCmd} --sender ${ADMIN_ADDRESS}`;\n            } else {\n                // Standard-Version ohne Admin-Capability\n                command = `move call --package ${EPOCH_PACKAGE_ID} --module epoch --function ${randomFunction} --args 0x8 ${vectorCmd}`;\n            }\n            console.log(`Führe Zufallsauswahl-Befehl aus: ${command}`);\n            const result = await executeIotaCommand(command);\n            console.log(\"CLI-Ergebnis:\", result);\n            // Extrahiere die gewählte Adresse aus dem Ergebnis\n            // Angepasstes Regex-Pattern je nach Ausgabeformat\n            const match = result.match(/Gewählte Adresse: ([0-9a-fx]+)/i) || result.match(/Selected winner: ([0-9a-fx]+)/i) || result.match(/Result: ([0-9a-fx]+)/i);\n            if (match) {\n                return match[1].trim();\n            } else {\n                console.warn(\"Adresse nicht aus CLI-Ausgabe extrahierbar, verwende erste Adresse als Fallback\");\n                return addresses[0]; // Fallback\n            }\n        } finally{\n            // Lösche die temporäre Datei wenn sie existiert\n            if (fs__WEBPACK_IMPORTED_MODULE_2__.existsSync(tempFilePath)) {\n                fs__WEBPACK_IMPORTED_MODULE_2__.unlinkSync(tempFilePath);\n                console.log(`Temporäre Adressdatei ${tempFilePath} gelöscht`);\n            }\n        }\n    } catch (error) {\n        console.error(\"Fehler bei der Auswahl eines zuf\\xe4lligen Gewinners:\", error);\n        throw error;\n    }\n}\n/**\r\n * Bereitet einen String für die MOVE-Umgebung vor\r\n * Nutzt das Konzept, dass Strings in Move Byte-Vektoren sind\r\n * @param input Der zu konvertierende String\r\n */ function prepareStringForMove(input) {\n    // In MOVE werden Strings als b\"...\" Byte-Vektoren dargestellt\n    // Entferne problematische Zeichen und ersetze Anführungszeichen\n    const safeString = input.replace(/\"/g, '\\\\\"').replace(/\\n/g, \" \");\n    return `b\"${safeString}\"`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVELFVBQVUsQ0FBQztZQUN6SDtZQUVBbkQsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUNBQWlDLEVBQUVGLFFBQVEsQ0FBQztZQUN6RCxNQUFNc0QsU0FBUyxNQUFNL0MsbUJBQW1CUDtZQUV4Q0MsUUFBUUMsR0FBRyxDQUFDLGlCQUFpQm9EO1lBRTdCLG1EQUFtRDtZQUNuRCxrREFBa0Q7WUFDbEQsTUFBTUMsUUFBUUQsT0FBT0MsS0FBSyxDQUFDLHNDQUNkRCxPQUFPQyxLQUFLLENBQUMscUNBQ2JELE9BQU9DLEtBQUssQ0FBQztZQUUxQixJQUFJQSxPQUFPO2dCQUNULE9BQU9BLEtBQUssQ0FBQyxFQUFFLENBQUMxQyxJQUFJO1lBQ3RCLE9BQU87Z0JBQ0xaLFFBQVF1RCxJQUFJLENBQUM7Z0JBQ2IsT0FBT1IsU0FBUyxDQUFDLEVBQUUsRUFBRSxXQUFXO1lBQ2xDO1FBQ0YsU0FBVTtZQUNSLGdEQUFnRDtZQUNoRCxJQUFJNUQsMENBQWEsQ0FBQzBDLGVBQWU7Z0JBQy9CMUMsMENBQWEsQ0FBQzBDO2dCQUNkN0IsUUFBUUMsR0FBRyxDQUFDLENBQUMsc0JBQXNCLEVBQUU0QixhQUFhLFNBQVMsQ0FBQztZQUM5RDtRQUNGO0lBQ0YsRUFBRSxPQUFPekIsT0FBTztRQUNkSixRQUFRSSxLQUFLLENBQUMseURBQXNEQTtRQUNwRSxNQUFNQTtJQUNSO0FBQ0Y7QUFFQTs7OztDQUlDLEdBQ00sU0FBUytCLHFCQUFxQnFCLEtBQWE7SUFDaEQsOERBQThEO0lBQzlELGdFQUFnRTtJQUNoRSxNQUFNQyxhQUFhRCxNQUFNRSxPQUFPLENBQUMsTUFBTSxPQUFPQSxPQUFPLENBQUMsT0FBTztJQUM3RCxPQUFPLENBQUMsRUFBRSxFQUFFRCxXQUFXLENBQUMsQ0FBQztBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlYmFzZWQtcGl4ZWxzLW5mdC1hZG1pbi8uL3NyYy91dGlscy9tb3ZlQ2xpSW50ZWdyYXRpb24udHM/ZDYxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XHJcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCB7IGlzQWRtaW4gfSBmcm9tICcuL2FkbWluVXRpbHMnO1xyXG5cclxuY29uc3QgZXhlY1Byb21pc2UgPSBwcm9taXNpZnkoZXhlYyk7XHJcbmNvbnN0IE1PVkVfQU5BTFlaRVJfUEFUSCA9IHByb2Nlc3MuZW52Lk1PVkVfQU5BTFlaRVJfUEFUSCB8fCAnQzpcXFxcaW90YVxcXFxNb3ZlLWFuYWx5emVyLmV4ZSc7XHJcbmNvbnN0IElPVEFfQ0xJX1BBVEggPSBwcm9jZXNzLmVudi5JT1RBX0NMSV9QQVRIIHx8ICdDOlxcXFxpb3RhXFxcXGlvdGEuZXhlJztcclxuY29uc3QgQURNSU5fQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FETUlOX0FERFJFU1MgfHwgJzB4MjgxNGVkOTZjOWMzOWJhMDFkMmM0ZDE2NGNkZmJkOGUyNzIxOTJkZDFhZTM5ZDExYWFjNDllMzUyYzExYjNjNSc7XHJcblxyXG4vLyBQYWNrYWdlLUlEc1xyXG5jb25zdCBFUE9DSF9QQUNLQUdFX0lEID0gcHJvY2Vzcy5lbnYuRVBPQ0hfUEFDS0FHRV9JRCB8fCAnMHhiMTRiZDRkZDMwMTNhMDFmZmRhNzhlOGY3ZDJiNjk5MThiNGNkYmU2MWRmM2IzYzJlNGFhMGQxZWEwNmUyY2RjJztcclxuY29uc3QgTkZUX1BBQ0tBR0VfSUQgPSBwcm9jZXNzLmVudi5ORlRfUEFDS0FHRV9JRCB8fCAnMHg5YTZhOWYzZTMyNDRlYzUzOWE1Y2RhZDE4MjNjMTZiM2EzY2RhM2MwYWE1ZmEzYmVlYzMwZDRiN2I3YTVlZmRhJztcclxuXHJcbi8qKlxyXG4gKiBGw7xocnQgZWluZW4gTU9WRSBBbmFseXplciBDTEktQmVmZWhsIGF1c1xyXG4gKiBAcGFyYW0gY29tbWFuZCBEZXIgYXVzenVmw7xocmVuZGUgTU9WRSBBbmFseXplciBDTEktQmVmZWhsIFxyXG4gKiBAcmV0dXJucyBEYXMgRXJnZWJuaXMgZGVzIEJlZmVobHNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlTW92ZUFuYWx5emVyQ29tbWFuZChjb21tYW5kOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgRsO8aHJlIE1PVkUgQW5hbHl6ZXIgQmVmZWhsIGF1czogJHtNT1ZFX0FOQUxZWkVSX1BBVEh9ICR7Y29tbWFuZH1gKTtcclxuICAgIGNvbnN0IHsgc3Rkb3V0LCBzdGRlcnIgfSA9IGF3YWl0IGV4ZWNQcm9taXNlKGBcIiR7TU9WRV9BTkFMWVpFUl9QQVRIfVwiICR7Y29tbWFuZH1gKTtcclxuICAgIFxyXG4gICAgaWYgKHN0ZGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdNT1ZFIEFuYWx5emVyIENMSSBGZWhsZXI6Jywgc3RkZXJyKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKHN0ZGVycik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBzdGRvdXQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZlaGxlciBiZWkgQXVzZsO8aHJ1bmcgZGVzIE1PVkUgQW5hbHl6ZXIgQ0xJLUJlZmVobHM6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRsO8aHJ0IGVpbmVuIElPVEEgQ0xJLUJlZmVobCBhdXNcclxuICogQHBhcmFtIGNvbW1hbmQgRGVyIGF1c3p1ZsO8aHJlbmRlIElPVEEgQ0xJLUJlZmVobCBcclxuICogQHJldHVybnMgRGFzIEVyZ2VibmlzIGRlcyBCZWZlaGxzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZUlvdGFDb21tYW5kKGNvbW1hbmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKGBGw7xocmUgSU9UQSBDTEkgQmVmZWhsIGF1czogJHtJT1RBX0NMSV9QQVRIfSAke2NvbW1hbmR9YCk7XHJcbiAgICBjb25zdCB7IHN0ZG91dCwgc3RkZXJyIH0gPSBhd2FpdCBleGVjUHJvbWlzZShgXCIke0lPVEFfQ0xJX1BBVEh9XCIgJHtjb21tYW5kfWApO1xyXG4gICAgXHJcbiAgICBpZiAoc3RkZXJyICYmICFzdGRlcnIuaW5jbHVkZXMoJ2luZm86JykpIHsgLy8gSWdub3JpZXJlIEluZm8tTmFjaHJpY2h0ZW5cclxuICAgICAgY29uc29sZS5lcnJvcignSU9UQSBDTEkgRmVobGVyOicsIHN0ZGVycik7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihzdGRlcnIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gc3Rkb3V0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpIEF1c2bDvGhydW5nIGRlcyBJT1RBIENMSS1CZWZlaGxzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFByw7xmdCBkaWUgYWt0dWVsbGUgVmVyc2lvbiBkZXIgQ0xJLVRvb2xzXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tDbGlWZXJzaW9ucygpOiBQcm9taXNlPHttb3ZlQW5hbHl6ZXI6IHN0cmluZywgaW90YTogc3RyaW5nfT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBtb3ZlQW5hbHl6ZXJWZXJzaW9uID0gYXdhaXQgZXhlY3V0ZU1vdmVBbmFseXplckNvbW1hbmQoJy0tdmVyc2lvbicpO1xyXG4gICAgY29uc3QgaW90YVZlcnNpb24gPSBhd2FpdCBleGVjdXRlSW90YUNvbW1hbmQoJy0tdmVyc2lvbicpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtb3ZlQW5hbHl6ZXI6IG1vdmVBbmFseXplclZlcnNpb24udHJpbSgpLFxyXG4gICAgICBpb3RhOiBpb3RhVmVyc2lvbi50cmltKClcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZlaGxlciBiZWltIFByw7xmZW4gZGVyIENMSS1WZXJzaW9uZW46JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbW92ZUFuYWx5emVyOiAnRmVobGVyJyxcclxuICAgICAgaW90YTogJ0ZlaGxlcidcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXJzdGVsbHQgZWluIE5GVCDDvGJlciBkaWUgSU9UQSBDTEkgZ2Vtw6TDnyBkZXIgSU9UQSBNb3ZlLURva3VtZW50YXRpb25cclxuICogQHBhcmFtIHJlY2lwaWVudEFkZHJlc3MgRGllIEVtcGbDpG5nZXItQWRyZXNzZSBmw7xyIGRhcyBORlRcclxuICogQHBhcmFtIG1ldGFkYXRhIERpZSBNZXRhZGF0ZW4gZsO8ciBkYXMgTkZUXHJcbiAqIEBwYXJhbSBpbWFnZVVybCBEaWUgVVJMIGRlcyBCaWxkZXMgZsO8ciBkYXMgTkZUXHJcbiAqIEBwYXJhbSB1c2VBZG1pbkF1dGggT2IgZGllIEFkbWluLUF1dGhlbnRpZml6aWVydW5nIHZlcndlbmRldCB3ZXJkZW4gc29sbFxyXG4gKiBAcGFyYW0gY3VzdG9tQWRtaW5BZGRyZXNzIE9wdGlvbmFsZSBiZW51dHplcmRlZmluaWVydGUgQWRtaW4tQWRyZXNzZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1pbnROZnRXaXRoTW92ZUNsaShcclxuICByZWNpcGllbnRBZGRyZXNzOiBzdHJpbmcsIFxyXG4gIG1ldGFkYXRhOiBhbnksIFxyXG4gIGltYWdlVXJsOiBzdHJpbmcsXHJcbiAgdXNlQWRtaW5BdXRoOiBib29sZWFuID0gZmFsc2UsXHJcbiAgY3VzdG9tQWRtaW5BZGRyZXNzPzogc3RyaW5nXHJcbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgLy8gRXJzdGVsbGUgZWluIHRlbXBvcsOkcmVzIEpTT04gbWl0IGRlbiBNZXRhZGF0ZW5cclxuICBjb25zdCBtZXRhZGF0YUpzb24gPSBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSk7XHJcbiAgY29uc3QgdGVtcERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndGVtcCcpO1xyXG4gIFxyXG4gIC8vIEVyc3RlbGxlIGRhcyB0ZW1wb3LDpHJlIFZlcnplaWNobmlzLCBmYWxscyBlcyBuaWNodCBleGlzdGllcnRcclxuICBpZiAoIWZzLmV4aXN0c1N5bmModGVtcERpcikpIHtcclxuICAgIGZzLm1rZGlyU3luYyh0ZW1wRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3QgdGVtcEZpbGVQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsIGB0ZW1wX21ldGFkYXRhXyR7RGF0ZS5ub3coKX0uanNvbmApO1xyXG4gIFxyXG4gIC8vIFNjaHJlaWJlIGRhcyBKU09OIGluIGVpbmUgdGVtcG9yw6RyZSBEYXRlaVxyXG4gIGZzLndyaXRlRmlsZVN5bmModGVtcEZpbGVQYXRoLCBtZXRhZGF0YUpzb24pO1xyXG4gIGNvbnNvbGUubG9nKGBNZXRhZGF0ZW4gaW4gJHt0ZW1wRmlsZVBhdGh9IGdlc3BlaWNoZXJ0YCk7XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIFZlcnN1Y2hlIGRpZSBJT1RBIENMSSBtaXQgZGVuIGtvcnJla3RlbiBORlQtQmVmZWhsZW5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFZlcndlbmRlIGRpZSDDvGJlcmdlYmVuZSBBZG1pbi1BZHJlc3NlLCB3ZW5uIHNpZSB2b3JoYW5kZW4gaXN0LCBzb25zdCBkaWUgU3RhbmRhcmQtQWRtaW4tQWRyZXNzZVxyXG4gICAgICBjb25zdCBhZG1pbkFkZHJlc3MgPSBjdXN0b21BZG1pbkFkZHJlc3MgfHwgQURNSU5fQUREUkVTUztcclxuICAgICAgXHJcbiAgICAgIC8vIFZvcmJlcmVpdGVuIGRlciBNb3ZlLVBhcmFtZXRlclxyXG4gICAgICBjb25zdCBuYW1lID0gcHJlcGFyZVN0cmluZ0Zvck1vdmUobWV0YWRhdGEubmFtZSk7XHJcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJlcGFyZVN0cmluZ0Zvck1vdmUobWV0YWRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICBjb25zdCBpbWFnZVVybEZvck1vdmUgPSBwcmVwYXJlU3RyaW5nRm9yTW92ZShpbWFnZVVybCk7XHJcbiAgICAgIGNvbnN0IGVwb2NoTnVtYmVyID0gbWV0YWRhdGEuYXR0cmlidXRlcz8uZXBvY2ggfHwgMDtcclxuICAgICAgY29uc3QgY29udHJpYnV0b3JzQ291bnQgPSBtZXRhZGF0YS5hdHRyaWJ1dGVzPy5wYXJ0aWNpcGFudHMgfHwgMDtcclxuICAgICAgXHJcbiAgICAgIC8vIEtvcnJla3RlciBJT1RBIENMSS1CZWZlaGwgZsO8ciBtaW50X25mdF9hZG1pblxyXG4gICAgICBsZXQgbWludENvbW1hbmQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodXNlQWRtaW5BdXRoKSB7XHJcbiAgICAgICAgLy8gQWRtaW4tVmVyc2lvbiBtaXQgQWRtaW5DYXBhYmlsaXR5IGFscyBlcnN0ZW0gUGFyYW1ldGVyXHJcbiAgICAgICAgbWludENvbW1hbmQgPSBgbW92ZSBjYWxsIC0tcGFja2FnZSAke05GVF9QQUNLQUdFX0lEfSAtLW1vZHVsZSBuZnRfbW9kdWxlIC0tZnVuY3Rpb24gbWludF9uZnRfYWRtaW4gLS1hcmdzIEFkbWluQ2FwYWJpbGl0eSAke3JlY2lwaWVudEFkZHJlc3N9ICR7bmFtZX0gJHtkZXNjcmlwdGlvbn0gJHtpbWFnZVVybEZvck1vdmV9ICR7ZXBvY2hOdW1iZXJ9ICR7Y29udHJpYnV0b3JzQ291bnR9IC0tc2VuZGVyICR7YWRtaW5BZGRyZXNzfWA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gU3RhbmRhcmQtVmVyc2lvbiBvaG5lIEFkbWluLUNhcGFiaWxpdHlcclxuICAgICAgICBtaW50Q29tbWFuZCA9IGBtb3ZlIGNhbGwgLS1wYWNrYWdlICR7TkZUX1BBQ0tBR0VfSUR9IC0tbW9kdWxlIG5mdF9tb2R1bGUgLS1mdW5jdGlvbiBtaW50X25mdCAtLWFyZ3MgJHtyZWNpcGllbnRBZGRyZXNzfSAke25hbWV9ICR7ZGVzY3JpcHRpb259ICR7aW1hZ2VVcmxGb3JNb3ZlfSAke2Vwb2NoTnVtYmVyfSAke2NvbnRyaWJ1dG9yc0NvdW50fWA7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGBGw7xocmUgTkZULU1pbnQtQmVmZWhsIGF1czogJHttaW50Q29tbWFuZH1gKTtcclxuICAgICAgcmV0dXJuIGF3YWl0IGV4ZWN1dGVJb3RhQ29tbWFuZChtaW50Q29tbWFuZCk7XHJcbiAgICB9IGNhdGNoIChpb3RhRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmVobGVyIGJlaW0gTWludGVuIG1pdCBJT1RBIENMSTonLCBpb3RhRXJyb3IpO1xyXG4gICAgICB0aHJvdyBpb3RhRXJyb3I7XHJcbiAgICB9XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIC8vIEzDtnNjaGUgZGllIHRlbXBvcsOkcmUgRGF0ZWlcclxuICAgIHRyeSB7XHJcbiAgICAgIGZzLnVubGlua1N5bmModGVtcEZpbGVQYXRoKTtcclxuICAgICAgY29uc29sZS5sb2coYFRlbXBvcsOkcmUgRGF0ZWkgJHt0ZW1wRmlsZVBhdGh9IGdlbMO2c2NodGApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmVobGVyIGJlaW0gTMO2c2NoZW4gZGVyIHRlbXBvcsOkcmVuIERhdGVpOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXw6RobHQgZWluZW4genVmw6RsbGlnZW4gR2V3aW5uZXIgbWl0IElPVEEgQ0xJXHJcbiAqIEBwYXJhbSBhZGRyZXNzZXMgTGlzdGUgdm9uIEFkcmVzc2VuXHJcbiAqIEBwYXJhbSB1c2VBZG1pbkF1dGggT2IgZGllIEFkbWluLUF1dGhlbnRpZml6aWVydW5nIHZlcndlbmRldCB3ZXJkZW4gc29sbFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdFJhbmRvbVdpbm5lcldpdGhDbGkoXHJcbiAgYWRkcmVzc2VzOiBzdHJpbmdbXSxcclxuICB1c2VBZG1pbkF1dGg6IGJvb2xlYW4gPSBmYWxzZVxyXG4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBFcnN0ZWxsZSB0ZW1wb3LDpHJlIERhdGVpIG1pdCBkZW4gQWRyZXNzZW5cclxuICAgIGNvbnN0IHRlbXBEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3RlbXAnKTtcclxuICAgIFxyXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHRlbXBEaXIpKSB7XHJcbiAgICAgIGZzLm1rZGlyU3luYyh0ZW1wRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgdGVtcEZpbGVQYXRoID0gcGF0aC5qb2luKHRlbXBEaXIsIGBhZGRyZXNzZXNfJHtEYXRlLm5vdygpfS5qc29uYCk7XHJcbiAgICBcclxuICAgIC8vIFNwZWljaGVyZSBkaWUgQWRyZXNzbGlzdGUgYWxzIE1vdmUta29tcGF0aWJsZXMgRm9ybWF0XHJcbiAgICBjb25zdCBhZGRyZXNzZXNWZWN0b3IgPSBhZGRyZXNzZXMubWFwKGFkZHIgPT4gYWRkcikuam9pbignLCAnKTtcclxuICAgIGNvbnN0IHZlY3RvckNtZCA9IGB2ZWN0b3JbJHthZGRyZXNzZXNWZWN0b3J9XWA7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFfDpGhsZSBkaWUgcmljaHRpZ2UgRnVua3Rpb24gYmFzaWVyZW5kIGF1ZiBBZG1pbi1BdXRoZW50aWZpemllcnVuZ1xyXG4gICAgICBjb25zdCByYW5kb21GdW5jdGlvbiA9IHVzZUFkbWluQXV0aCA/ICdzZWxlY3RfcmFuZG9tX3dpbm5lcl9hZG1pbicgOiAnc2VsZWN0X3JhbmRvbV93aW5uZXInO1xyXG4gICAgICBcclxuICAgICAgbGV0IGNvbW1hbmQ7XHJcbiAgICAgIGlmICh1c2VBZG1pbkF1dGgpIHtcclxuICAgICAgICAvLyBBZG1pbi1WZXJzaW9uIG1pdCBBZG1pbkNhcGFiaWxpdHkgYWxzIGVyc3RlbSBQYXJhbWV0ZXJcclxuICAgICAgICBjb21tYW5kID0gYG1vdmUgY2FsbCAtLXBhY2thZ2UgJHtFUE9DSF9QQUNLQUdFX0lEfSAtLW1vZHVsZSBlcG9jaCAtLWZ1bmN0aW9uICR7cmFuZG9tRnVuY3Rpb259IC0tYXJncyBBZG1pbkNhcGFiaWxpdHkgMHg4ICR7dmVjdG9yQ21kfSAtLXNlbmRlciAke0FETUlOX0FERFJFU1N9YDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBTdGFuZGFyZC1WZXJzaW9uIG9obmUgQWRtaW4tQ2FwYWJpbGl0eVxyXG4gICAgICAgIGNvbW1hbmQgPSBgbW92ZSBjYWxsIC0tcGFja2FnZSAke0VQT0NIX1BBQ0tBR0VfSUR9IC0tbW9kdWxlIGVwb2NoIC0tZnVuY3Rpb24gJHtyYW5kb21GdW5jdGlvbn0gLS1hcmdzIDB4OCAke3ZlY3RvckNtZH1gO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgRsO8aHJlIFp1ZmFsbHNhdXN3YWhsLUJlZmVobCBhdXM6ICR7Y29tbWFuZH1gKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXhlY3V0ZUlvdGFDb21tYW5kKGNvbW1hbmQpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ0NMSS1FcmdlYm5pczonLCByZXN1bHQpO1xyXG4gICAgICBcclxuICAgICAgLy8gRXh0cmFoaWVyZSBkaWUgZ2V3w6RobHRlIEFkcmVzc2UgYXVzIGRlbSBFcmdlYm5pc1xyXG4gICAgICAvLyBBbmdlcGFzc3RlcyBSZWdleC1QYXR0ZXJuIGplIG5hY2ggQXVzZ2FiZWZvcm1hdFxyXG4gICAgICBjb25zdCBtYXRjaCA9IHJlc3VsdC5tYXRjaCgvR2V3w6RobHRlIEFkcmVzc2U6IChbMC05YS1meF0rKS9pKSB8fCBcclxuICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tYXRjaCgvU2VsZWN0ZWQgd2lubmVyOiAoWzAtOWEtZnhdKykvaSkgfHxcclxuICAgICAgICAgICAgICAgICAgIHJlc3VsdC5tYXRjaCgvUmVzdWx0OiAoWzAtOWEtZnhdKykvaSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gbWF0Y2hbMV0udHJpbSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignQWRyZXNzZSBuaWNodCBhdXMgQ0xJLUF1c2dhYmUgZXh0cmFoaWVyYmFyLCB2ZXJ3ZW5kZSBlcnN0ZSBBZHJlc3NlIGFscyBGYWxsYmFjaycpO1xyXG4gICAgICAgIHJldHVybiBhZGRyZXNzZXNbMF07IC8vIEZhbGxiYWNrXHJcbiAgICAgIH1cclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIC8vIEzDtnNjaGUgZGllIHRlbXBvcsOkcmUgRGF0ZWkgd2VubiBzaWUgZXhpc3RpZXJ0XHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKHRlbXBGaWxlUGF0aCkpIHtcclxuICAgICAgICBmcy51bmxpbmtTeW5jKHRlbXBGaWxlUGF0aCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFRlbXBvcsOkcmUgQWRyZXNzZGF0ZWkgJHt0ZW1wRmlsZVBhdGh9IGdlbMO2c2NodGApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZlaGxlciBiZWkgZGVyIEF1c3dhaGwgZWluZXMgenVmw6RsbGlnZW4gR2V3aW5uZXJzOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEJlcmVpdGV0IGVpbmVuIFN0cmluZyBmw7xyIGRpZSBNT1ZFLVVtZ2VidW5nIHZvclxyXG4gKiBOdXR6dCBkYXMgS29uemVwdCwgZGFzcyBTdHJpbmdzIGluIE1vdmUgQnl0ZS1WZWt0b3JlbiBzaW5kXHJcbiAqIEBwYXJhbSBpbnB1dCBEZXIgenUga29udmVydGllcmVuZGUgU3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVN0cmluZ0Zvck1vdmUoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gSW4gTU9WRSB3ZXJkZW4gU3RyaW5ncyBhbHMgYlwiLi4uXCIgQnl0ZS1WZWt0b3JlbiBkYXJnZXN0ZWxsdFxyXG4gIC8vIEVudGZlcm5lIHByb2JsZW1hdGlzY2hlIFplaWNoZW4gdW5kIGVyc2V0emUgQW5mw7xocnVuZ3N6ZWljaGVuXHJcbiAgY29uc3Qgc2FmZVN0cmluZyA9IGlucHV0LnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgJyAnKTtcclxuICByZXR1cm4gYGJcIiR7c2FmZVN0cmluZ31cImA7XHJcbn0gIl0sIm5hbWVzIjpbImV4ZWMiLCJwcm9taXNpZnkiLCJmcyIsInBhdGgiLCJleGVjUHJvbWlzZSIsIk1PVkVfQU5BTFlaRVJfUEFUSCIsInByb2Nlc3MiLCJlbnYiLCJJT1RBX0NMSV9QQVRIIiwiQURNSU5fQUREUkVTUyIsIk5FWFRfUFVCTElDX0FETUlOX0FERFJFU1MiLCJFUE9DSF9QQUNLQUdFX0lEIiwiTkZUX1BBQ0tBR0VfSUQiLCJleGVjdXRlTW92ZUFuYWx5emVyQ29tbWFuZCIsImNvbW1hbmQiLCJjb25zb2xlIiwibG9nIiwic3Rkb3V0Iiwic3RkZXJyIiwiZXJyb3IiLCJFcnJvciIsImV4ZWN1dGVJb3RhQ29tbWFuZCIsImluY2x1ZGVzIiwiY2hlY2tDbGlWZXJzaW9ucyIsIm1vdmVBbmFseXplclZlcnNpb24iLCJpb3RhVmVyc2lvbiIsIm1vdmVBbmFseXplciIsInRyaW0iLCJpb3RhIiwibWludE5mdFdpdGhNb3ZlQ2xpIiwicmVjaXBpZW50QWRkcmVzcyIsIm1ldGFkYXRhIiwiaW1hZ2VVcmwiLCJ1c2VBZG1pbkF1dGgiLCJjdXN0b21BZG1pbkFkZHJlc3MiLCJtZXRhZGF0YUpzb24iLCJKU09OIiwic3RyaW5naWZ5IiwidGVtcERpciIsImpvaW4iLCJjd2QiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwidGVtcEZpbGVQYXRoIiwiRGF0ZSIsIm5vdyIsIndyaXRlRmlsZVN5bmMiLCJhZG1pbkFkZHJlc3MiLCJuYW1lIiwicHJlcGFyZVN0cmluZ0Zvck1vdmUiLCJkZXNjcmlwdGlvbiIsImltYWdlVXJsRm9yTW92ZSIsImVwb2NoTnVtYmVyIiwiYXR0cmlidXRlcyIsImVwb2NoIiwiY29udHJpYnV0b3JzQ291bnQiLCJwYXJ0aWNpcGFudHMiLCJtaW50Q29tbWFuZCIsImlvdGFFcnJvciIsInVubGlua1N5bmMiLCJzZWxlY3RSYW5kb21XaW5uZXJXaXRoQ2xpIiwiYWRkcmVzc2VzIiwiYWRkcmVzc2VzVmVjdG9yIiwibWFwIiwiYWRkciIsInZlY3RvckNtZCIsInJhbmRvbUZ1bmN0aW9uIiwicmVzdWx0IiwibWF0Y2giLCJ3YXJuIiwiaW5wdXQiLCJzYWZlU3RyaW5nIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/moveCliIntegration.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fselect-random-winner&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cselect-random-winner.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();